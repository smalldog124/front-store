<div class="content">
  <div>
    <form [formGroup]="addBasketForm" (ngSubmit)="addToBasket()">
      <label>
        รหัสสินค้า
        <input id="barcode" formControlName="barcode" autofocus />
      </label>
      <label>
        จำนวน
        <input type="number" id="quantity" formControlName="quantity" value="1" required />
      </label>
      <button mat-button id="add-to-basket" type="submit" [disabled]="!addBasketForm.valid">Go</button>
    </form>
    <button printSectionId="print-slip" ngxPrint>
      <mat-icon aria-hidden="false" aria-label="printer icon">printer</mat-icon>
    </button>
    <p id="errot_text">{{errorText}}</p>
  </div>
  <div id="print-slip">
    <table matSort>
      <tr>
        <th mat-sort-header="quanty">จำนวน</th>
        <th mat-sort-header="name">รายการ</th>
        <th mat-sort-header="front_store_price">หน่วยละ</th>
        <th mat-sort-header="amount">จำนวนเงิน</th>
      </tr>

      <tr *ngFor="let dessert of basket">
        <td>{{dessert.quantity}}</td>
        <td>{{dessert.name}}</td>
        <td>{{dessert.front_store_price}}</td>
        <td>{{dessert.front_store_amount}}</td>
        <td>
          <a>
            <mat-icon aria-hidden="false" aria-label="delete icon" (click)="removeItem(dessert.id)">delete</mat-icon>
          </a>
        </td>
      </tr>
      <tr>
        <td>รวมสุทธิ</td>
        <td>{{total_price}}</td>
      </tr>
    </table>
  </div>
</div>
